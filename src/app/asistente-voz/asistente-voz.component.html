<nav class="navbar bg-dark border-bottom border-body">
  <div class="container-fluid">
    <a class="navbar-brand text-white" href="#">
      <img
        src="https://lait.com.co/wp-content/uploads/2024/06/cropped-Variaciones-12-192x192.png"
        alt="Logo"
        width="30"
        height="24"
        class="d-inline-block align-text-top"
      />
      <strong>
        LAIT Technology <br> Automatización de Llamadas</strong
      >
    </a>
  </div>
</nav>
<div class="container mt-5">
  <div class="row">
    <div class="col text-end">
      <button
        *ngIf="ocultar"
        (click)="startRecognition()"
        class="btn btn-primary mb-3"
      >
        <i class="fa-solid fa-phone-volume"></i> Llamar
      </button>
    </div>
  </div>
  <!-- Historial de mensajes-->
  <div
    #chatBox
    class="mt-3 chat-box"
    style="
      max-height: 400px;
      overflow-y: auto;
      border: 1px solid #ccc;
      border-radius: 15px;
      background: #f9f9f9;
      padding: 15px;
    "
  >
    <div
      *ngFor="let message of messages"
      class="mb-3 animate__animated animate__fadeIn"
    >
      <div [class]="message.sender === 'user' ? 'text-start' : 'text-end'">
        <div
          class="d-inline-block"
          [class]="
            message.sender === 'user'
              ? 'bg-light text-dark'
              : 'bg-primary text-white'
          "
        >
          <!-- Mensaje del usuario -->
          <p
            *ngIf="message.sender === 'user'"
            class="p-3 bg-light rounded"
            style="
              border-radius: 10px;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            "
          >
            <strong>Tú:</strong> {{ message.content }}
          </p>

          <!-- Mensaje del asistente con contenido HTML seguro y estilo diferente -->
          <p
            *ngIf="message.sender !== 'user'"
            class="p-3 bg-primary text-white rounded"
            style="
              border-radius: 10px;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            "
            [innerHTML]="message.formattedContent"
          ></p>
        </div>
      </div>
    </div>
  </div>
</div>
